{"name":"Fincal","tagline":"Package for time value of money calculation, time series analysis and computational finance","body":"Examples of using FinCal\r\n========================================================\r\nCreated on Fri Jul 19 2013   \r\nUpdated on Wed Sep 25 15:52:34 2013   \r\n\r\n\r\nFinCal -- Time Value of Money, time series analysis and Computational Finance\r\n--------------------------------------------------------------------------------    \r\nFinCal is available on [CRAN] (http://cran.r-project.org/web/packages/FinCal/) and [GitHub](http://felixfan.github.io/FinCal/)     \r\n\r\n[More about me](http://felixfan.github.io)     \r\n\r\n\r\n```r\r\nlibrary(FinCal)\r\n```\r\n\r\n\r\nFunctions available:    \r\n\r\n```r\r\nls(\"package:FinCal\")\r\n```\r\n\r\n```\r\n [1] \"bdy\"                   \"bdy2mmy\"              \r\n [3] \"candlestickChart\"      \"cash.ratio\"           \r\n [5] \"coefficient.variation\" \"cogs\"                 \r\n [7] \"current.ratio\"         \"date.breaks\"          \r\n [9] \"ddb\"                   \"debt.ratio\"           \r\n[11] \"diluted.EPS\"           \"discount.rate\"        \r\n[13] \"ear\"                   \"ear.continuous\"       \r\n[15] \"ear2bey\"               \"ear2hpr\"              \r\n[17] \"EPS\"                   \"financial.leverage\"   \r\n[19] \"fv\"                    \"fv.annuity\"           \r\n[21] \"fv.simple\"             \"fv.uneven\"            \r\n[23] \"geometric.mean\"        \"get.ohlc.google\"      \r\n[25] \"get.ohlc.yahoo\"        \"get.ohlcs.google\"     \r\n[27] \"get.ohlcs.yahoo\"       \"gpm\"                  \r\n[29] \"harmonic.mean\"         \"hpr\"                  \r\n[31] \"hpr2bey\"               \"hpr2ear\"              \r\n[33] \"hpr2mmy\"               \"irr\"                  \r\n[35] \"iss\"                   \"lineChart\"            \r\n[37] \"lineChartMult\"         \"lt.d2e\"               \r\n[39] \"mmy2hpr\"               \"n.period\"             \r\n[41] \"npm\"                   \"npv\"                  \r\n[43] \"pmt\"                   \"pv\"                   \r\n[45] \"pv.annuity\"            \"pv.perpetuity\"        \r\n[47] \"pv.simple\"             \"pv.uneven\"            \r\n[49] \"quick.ratio\"           \"r.continuous\"         \r\n[51] \"r.norminal\"            \"r.perpetuity\"         \r\n[53] \"sampling.error\"        \"SFRatio\"              \r\n[55] \"Sharpe.ratio\"          \"slde\"                 \r\n[57] \"total.d2e\"             \"twrr\"                 \r\n[59] \"volumeChart\"           \"was\"                  \r\n[61] \"wpr\"                  \r\n```\r\n\r\n\r\nGetting help on a function (e.g., pv)    \r\n```\r\nhelp{pv}    # display the documentation for the function\r\nargs{pv}    # see arguments of the function\r\nexample{pv} # see example of using the function\r\n```\r\n\r\n```\r\nNote: for all examples, cash inflows are positive and outflows are negative.\r\n```\r\n\r\nExample 1 Computing effective annual rate (EAR)    \r\n-------------------------------------------------------\r\nUsing a stated rate of 4.25%, compute EARs for semiannual, quarterly, monthly, daily and continuous compounding.   \r\n\r\n```r\r\near(0.0425, 2)\r\n```\r\n\r\n```\r\n[1] 0.04295\r\n```\r\n\r\n```r\r\near(0.0425, 4)\r\n```\r\n\r\n```\r\n[1] 0.04318\r\n```\r\n\r\n```r\r\near(0.0425, 12)\r\n```\r\n\r\n```\r\n[1] 0.04334\r\n```\r\n\r\n```r\r\near(0.0425, 365)\r\n```\r\n\r\n```\r\n[1] 0.04341\r\n```\r\n\r\n```r\r\near.continuous(0.0425)\r\n```\r\n\r\n```\r\n[1] 0.04342\r\n```\r\n\r\n\r\nExample 2 Future value (FV) of a single sum\r\n---------------------------------------------------------\r\nCalculate the FV of a $500 investment at the end of ten years if it earns an annually compounded rate of return of 6%.   \r\n\r\n```r\r\nfv.simple(r = 0.06, n = 10, pv = -500)\r\n```\r\n\r\n```\r\n[1] 895.4\r\n```\r\n\r\n\r\nExample 3 PV of a single sum\r\n--------------------------------------------\r\nGiven a discount rate of 3%, calculate the PV of a $1,000,000 cash flow that will be received in five years.   \r\n\r\n```r\r\npv.simple(r = 0.03, n = 5, fv = 1e+06)\r\n```\r\n\r\n```\r\n[1] -862609\r\n```\r\n\r\n\r\nExample 4 FV of an ordinary annuity and annuity due\r\n------------------------------------------\r\nWhat is the future value of an ordinary annuity that pays $15,000 per year at the end of each of the next 25 years, given the investment is expected to earn a 6% rate of return?    \r\n\r\n```r\r\nfv.annuity(r = 0.06, n = 25, pmt = -15000, type = 0)\r\n```\r\n\r\n```\r\n[1] 822968\r\n```\r\n\r\n\r\nWhat is the future value of an annuity that pays $10,000 per year at the beginning of each of the next three years, commencing today, if the cash flows can be invested at an annual rate of 5%?    \r\n\r\n```r\r\nfv.annuity(r = 0.05, n = 3, pmt = -10000, type = 1)\r\n```\r\n\r\n```\r\n[1] 33101\r\n```\r\n\r\n\r\nExample 5 PV of an ordinary annuity and annuity due\r\n----------------------------------------------------------\r\nWhat is the PV of an annuity that pays $20,000 per year at the end of each of the next 25 years, given a 6% discount rate?\r\n\r\n```r\r\npv.annuity(r = 0.06, n = 25, pmt = -20000, type = 0)\r\n```\r\n\r\n```\r\n[1] 255667\r\n```\r\n\r\n\r\nGiven a discount rate of 10%, what is the present value of a 10-year annuity that makes a series of $1000 payments at the beginning of each of the next three years, starting today?   \r\n\r\n```r\r\npv.annuity(r = 0.1, n = 10, pmt = -1000, type = 1)\r\n```\r\n\r\n```\r\n[1] 6759\r\n```\r\n\r\n\r\nExample 6 PV of a perpetuity\r\n-------------------------------------------\r\nA preferred stock that will pay $2.50 per year in annual dividends beginning next year and plans to follow this dividend policy forever. Given an 10% rate of return, what is the value of this preferred stock today?\r\n\r\n```r\r\npv.perpetuity(r = 0.1, pmt = 2.5, type = 0)\r\n```\r\n\r\n```\r\n[1] -25\r\n```\r\n\r\n\r\nExample 7 Rate of return for a perpetuity\r\n------------------------------------------------\r\nUsing the preferred stock described in the preceding example, determine the rate of return that an investor would realize if she paid $75 per share for the stock.\r\n\r\n```r\r\nr.perpetuity(pmt = 2.5, pv = -75)\r\n```\r\n\r\n```\r\n[1] 0.03333\r\n```\r\n\r\n\r\nExample 8 PV of a bond's cash flows\r\n-------------------------------------\r\nA bond will make coupon interest payments of 70 HK$ (7% of its face value) at the end of each year and will also pay its face value of 1,000 HK$ at maturity in 10 years. If the appropriate discount rate is 6%, what is the present value of the bond's promised cash flows?     \r\n\r\n```r\r\npv(r = 0.06, n = 10, fv = 1000, pmt = 70, type = 0)\r\n```\r\n\r\n```\r\n[1] -1074\r\n```\r\n\r\n\r\nExample 9 Computing the FV and PV of an uneven cash How series\r\n-----------------------------------------------------------\r\nUsing a rate of return of 6%, compute the future value of the 6-year uneven cash flow stream occured at the end of each year.  (-10000 -5000 2000 4000 6000 8000)\r\n\r\n```r\r\nfv.uneven(r = 0.06, cf = c(-10000, -5000, 2000, 4000, 6000, 8000))\r\n```\r\n\r\n```\r\n[1] -1542\r\n```\r\n\r\n\r\nCompute the present value of this 6-year uneven cash How stream described above using a 10% rate of return.     \r\n\r\n```r\r\npv.uneven(r = 0.1, cf = c(-10000, -5000, 2000, 4000, 6000, 8000))\r\n```\r\n\r\n```\r\n[1] 747.1\r\n```\r\n\r\n\r\nExample 10 Loan payment calculation: Annual payments and Quarterly payments\r\n--------------------------------------------------------------------------------\r\nA company plans to borrow $500,000 for five years. The company's bank will lend the money at a rate of 6% and requires that the loan be paid off in five equal end-of-year payments. Calculate the amount of the payment that the company must make in order to fully amortize this loan in five years.   \r\n\r\n```r\r\npmt(r = 0.06, n = 5, pv = 5e+05, fv = 0)\r\n```\r\n\r\n```\r\n[1] -118698\r\n```\r\n\r\n\r\nExample 11 Computing the number of periods in an annuity\r\n---------------------------------------------------------------------\r\nHow many $1000 end-of-year payments are required to accumulate $10,000 if the discount rate is 9%?   \r\n\r\n```r\r\nn.period(r = 0.09, pv = 0, fv = 10000, pmt = -1000, type = 0)\r\n```\r\n\r\n```\r\n[1] 7.448\r\n```\r\n\r\n\r\nExample 12 Computing the rate of return for a period\r\n-------------------------------------------------------------------------------------\r\nSuppose you have the opponunity to invest $1000 at the end of each of the next five years in exchange for $6000 at the end of the fifth year. What is the annual rate of return on this investment?    \r\n\r\n```r\r\ndiscount.rate(n = 5, fv = 6000, pmt = -1000, pv = 0, type = 0)\r\n```\r\n\r\n```\r\n[1] 0.0913\r\n```\r\n\r\n\r\nExample 13 Computing NPV\r\n------------------------------------------\r\nCalculate the NPV of an investment project with an initial cost of $6 million and positive cash flows of $2.6 million at the end of Year 1, $2.4 million at the end of Year 2, and $3.8 million at the end ofYear 3. Use 8% as the discount rate.   \r\n\r\n```r\r\nnpv(r = 0.08, cf = c(-6, 2.6, 2.4, 3.8))\r\n```\r\n\r\n```\r\n[1] 1.482\r\n```\r\n\r\n\r\nExample 14 Computing IRR\r\n-----------------------------------------\r\nWhat is the IRR for the investment described in example 13?   \r\n\r\n```r\r\nirr(cf = c(-6, 2.6, 2.4, 3.8))\r\n```\r\n\r\n```\r\n[1] 0.2033\r\n```\r\n\r\n\r\nExample 15 Computing HPR\r\n--------------------------------------------\r\nSuppose a stock is purchased for $3 and is sold for $4 six months later, during which time it paid $0.50 in dividends. What is the holding period return?   \r\n\r\n```r\r\nhpr(ev = 4, bv = 3, cfr = 0.5)\r\n```\r\n\r\n```\r\n[1] 0.5\r\n```\r\n\r\n\r\nExample 16 Computing time-weighted rate of return\r\n---------------------------------------------------\r\nAn investor purchases a share of stock at t = 0 for $10. At the end of the year, t = 1 , the investor buys another share of the same stock for $12. At the end of Year 2, the investor sells both shares for $13 each. At the end of both years 1 and 2, the stock paid a $1 per share dividend. What is the annual time-weighted rate of return for this investment?    \r\n\r\n```r\r\ntwrr(ev = c(12, 26), bv = c(10, 24), cfr = c(1, 2))\r\n```\r\n\r\n```\r\n[1] 0.2315\r\n```\r\n\r\n\r\nExample 17 Computing Bank discount yield\r\n-----------------------------------------------\r\nCalculate the bank discount yield for a T-hill priced at $9,850, with a face value of $10,000 and 120 days until maturity.    \r\n\r\n```r\r\nbdy(d = 150, f = 10000, t = 120)\r\n```\r\n\r\n```\r\n[1] 0.045\r\n```\r\n\r\n\r\nExample 18 Convert holding period return to the effective annual rate\r\n------------------------------------------------------------------------\r\nCompute the EAY using the 120-day HPY of 2.85%.    \r\n\r\n```r\r\nhpr2ear(hpr = 0.0285, t = 120)\r\n```\r\n\r\n```\r\n[1] 0.08923\r\n```\r\n\r\n\r\nExample 19 Computing money market yield\r\n-----------------------------------------------------------------------------\r\nWhat is the money market yield for a 120-day T-bill that has a bank discount yield of 4.50%?    \r\n\r\n```r\r\nbdy2mmy(bdy = 0.045, t = 120)\r\n```\r\n\r\n```\r\n[1] 0.04569\r\n```\r\n\r\n\r\nExample 20 Converting among EAR, HPY, and MMY\r\n----------------------------------------------------\r\nAssume the price of a $10,000 T-hill that matures in 150 days is $9,800. The quoted money market yield is 4.898%. Compute the HPY and the EAR.    \r\n\r\n```r\r\nhpr(ev = 10000, bv = 9800)\r\n```\r\n\r\n```\r\n[1] 0.02041\r\n```\r\n\r\n```r\r\nmmy2hpr(mmy = 0.04898, t = 150)\r\n```\r\n\r\n```\r\n[1] 0.02041\r\n```\r\n\r\n```r\r\nhpr2ear(hpr = mmy2hpr(mmy = 0.04898, t = 150), t = 150)\r\n```\r\n\r\n```\r\n[1] 0.05039\r\n```\r\n\r\n```r\r\near2hpr(ear = hpr2ear(hpr = mmy2hpr(mmy = 0.04898, t = 150), t = 150), t = 150)\r\n```\r\n\r\n```\r\n[1] 0.02041\r\n```\r\n\r\n\r\nExample 21 Bond-equivalent yield calculation\r\n-----------------------------------------------------\r\nWhat is the yield on a bond-equivalent basis of a 3-month loan has a holding period yield of 4%?       \r\n\r\n```r\r\nhpr2bey(hpr = 0.04, t = 3)\r\n```\r\n\r\n```\r\n[1] 0.1632\r\n```\r\n\r\n\r\nWhat is the yield on a bond-equivalent basis of an investment with 6% effective annual yield?   \r\n\r\n```r\r\near2bey(ear = 0.06)\r\n```\r\n\r\n```\r\n[1] 0.05913\r\n```\r\n\r\n\r\nExample 22 Weighted mean as a portfolio return\r\n---------------------------------------------------\r\nA portfolio consists of 40% common stocks, 50% bonds, and 10% cash. If the return on common stocks is 9%, the return on bonds is 6%, and the return on cash is 1%, what is the portfolio return?     \r\n\r\n```r\r\nwpr(r = c(0.09, 0.06, 0.01), w = c(0.4, 0.5, 0.1))\r\n```\r\n\r\n```\r\n[1] 0.067\r\n```\r\n\r\n\r\nor   \r\n\r\n```r\r\nrs = c(0.09, 0.06, 0.01)\r\nws = c(0.4, 0.5, 0.1)\r\nwpr(r = rs, w = ws)\r\n```\r\n\r\n```\r\n[1] 0.067\r\n```\r\n\r\n\r\nExample 23 Geometric mean return\r\n-------------------------------------------------\r\nFor the last three years, the returns for Acme Corporation common stock have been -5%, 11%, and 9%. Compute the compound annual rate of return over the 3-year period.     \r\n\r\n```r\r\ngeometric.mean(r = c(-0.05, 0.11, 0.09))\r\n```\r\n\r\n```\r\n[1] 0.04751\r\n```\r\n\r\n\r\nExample 24 Calculating average cost with the harmonic mean\r\n------------------------------------------------------------\r\nAn investor purchases $10,000 of stock each month, and over the last three months the prices paid per share were $4.5, $5.2, and $4.8. What is the average cost per share for the shares acquired?      \r\n\r\n```r\r\nharmonic.mean(p = c(4.5, 5.2, 4.8))\r\n```\r\n\r\n```\r\n[1] 4.816\r\n```\r\n\r\n\r\nExample 25 Download historical ﬁnancial data from Yahoo finance and Google Finance\r\n---------------------------------------------------------------------------------------\r\nDownload historical ﬁnancial data from Yahoo finance       \r\n\r\n```r\r\napple <- get.ohlc.yahoo(symbol = \"AAPL\", start = \"2013-07-01\", end = \"2013-08-01\")\r\nhead(apple)\r\n```\r\n\r\n```\r\n         date  open  high   low close   volume adjusted\r\n23 2013-07-01 402.7 412.3 401.2 409.2 13966200    406.5\r\n22 2013-07-02 410.0 421.6 409.5 418.5 16780900    415.7\r\n21 2013-07-03 420.9 423.0 417.4 420.8  8604600    418.0\r\n20 2013-07-05 420.4 423.3 415.4 417.4  9786600    414.7\r\n19 2013-07-08 420.1 421.0 410.6 415.1 10647800    412.3\r\n18 2013-07-09 413.6 423.5 410.4 422.4 12592300    419.6\r\n```\r\n\r\n\r\nDownload historical ﬁnancial data from Google Finance    \r\n\r\n```r\r\ngoogle <- get.ohlc.google(symbol = \"GOOG\", start = \"2013-07-01\", end = \"2013-08-01\")\r\nhead(google)\r\n```\r\n\r\n```\r\n         date  open  high   low close  volume\r\n23 2013-07-01 886.5 892.1 885.0 887.9 1726780\r\n22 2013-07-02 890.2 891.0 877.3 882.3 1891812\r\n21 2013-07-03 879.9 889.2 878.5 886.4 1048628\r\n20 2013-07-05 890.0 895.4 887.3 893.5 1701830\r\n19 2013-07-08 899.2 906.3 897.1 905.1 1970157\r\n18 2013-07-09 911.0 913.0 898.0 905.2 1979338\r\n```\r\n\r\n\r\nDownload multiple historical ﬁnancial data from Yahoo finance\r\n\r\n```r\r\napplegoog <- get.ohlcs.yahoo(symbols = c(\"AAPL\", \"GOOG\"), start = \"2013-01-01\", \r\n    end = \"2013-07-31\")\r\nhead(applegoog$AAPL)\r\n```\r\n\r\n```\r\n          date  open  high   low close   volume adjusted\r\n146 2013-01-02 553.8 555.0 541.6 549.0 20018500    538.7\r\n145 2013-01-03 547.9 549.7 541.0 542.1 12605900    531.9\r\n144 2013-01-04 537.0 538.6 525.8 527.0 21226200    517.1\r\n143 2013-01-07 522.0 529.3 515.2 523.9 17291300    514.0\r\n142 2013-01-08 529.2 531.9 521.2 525.3 16382400    515.4\r\n141 2013-01-09 522.5 525.0 516.0 517.1 14557300    507.4\r\n```\r\n\r\n```r\r\nhead(applegoog$GOOG)\r\n```\r\n\r\n```\r\n          date  open  high   low close  volume adjusted\r\n146 2013-01-02 719.4 727.0 716.5 723.2 2541300    723.2\r\n145 2013-01-03 724.9 731.9 720.7 723.7 2318200    723.7\r\n144 2013-01-04 729.3 741.5 727.7 738.0 2763500    738.0\r\n143 2013-01-07 735.5 739.4 730.6 734.8 1655700    734.8\r\n142 2013-01-08 735.5 736.3 724.4 733.3 1676100    733.3\r\n141 2013-01-09 732.3 738.4 728.6 738.1 2024700    738.1\r\n```\r\n\r\n\r\nDownload multiple historical ﬁnancial data from Google Finance\r\n\r\n```r\r\nall <- get.ohlcs.google(symbols = c(\"YHOO\", \"SPY\", \"SINA\"), start = \"2013-01-01\", \r\n    end = \"2013-07-31\")\r\nhead(all$YHOO)\r\n```\r\n\r\n```\r\n          date  open  high   low close   volume\r\n146 2013-01-02 20.20 20.32 20.01 20.08 20463033\r\n145 2013-01-03 20.05 20.10 19.72 19.78 19599094\r\n144 2013-01-04 19.76 19.95 19.72 19.86 12489700\r\n143 2013-01-07 19.56 19.58 19.28 19.40 23866609\r\n142 2013-01-08 19.32 19.68 19.30 19.66 16932176\r\n141 2013-01-09 19.73 19.75 19.22 19.33 21656278\r\n```\r\n\r\n```r\r\nhead(all$SPY)\r\n```\r\n\r\n```\r\n          date  open  high   low close    volume\r\n146 2013-01-02 145.1 146.2 144.7 146.1 192058911\r\n145 2013-01-03 146.0 146.4 145.3 145.7 144761781\r\n144 2013-01-04 146.0 146.6 145.7 146.4 116817675\r\n143 2013-01-07 145.8 146.4 145.4 146.0 110002444\r\n142 2013-01-08 145.7 145.9 145.0 145.6 121265078\r\n141 2013-01-09 145.9 146.3 145.6 145.9  90745581\r\n```\r\n\r\n```r\r\nhead(all$SINA)\r\n```\r\n\r\n```\r\n          date  open  high   low close  volume\r\n146 2013-01-02 52.24 55.19 51.75 52.27 3947513\r\n145 2013-01-03 52.34 53.61 51.54 52.77 2200712\r\n144 2013-01-04 52.70 52.94 51.70 52.76 1466652\r\n143 2013-01-07 51.81 52.67 51.40 52.57 1368991\r\n142 2013-01-08 52.20 53.00 51.41 51.81 1381026\r\n141 2013-01-09 51.76 52.43 50.61 51.54 2098518\r\n```\r\n\r\n\r\nExample 26 Plots open-high-low-close chart of (ﬁnancial) time series.\r\n----------------------------------------------------------------------\r\nLine chart   \r\n\r\n```r\r\napple <- get.ohlc.yahoo(symbol = \"AAPL\", start = \"2013-07-01\", end = \"2013-08-01\")\r\nlineChart(apple)\r\n```\r\n\r\n![plot of chunk unnamed-chunk-36](figure/unnamed-chunk-36.png) \r\n\r\n\r\nCandlestick chart     \r\n\r\n```r\r\ngoogle <- get.ohlc.yahoo(\"GOOG\", start = \"2013-07-01\", end = \"2013-08-01\")\r\ncandlestickChart(google)\r\n```\r\n\r\n![plot of chunk unnamed-chunk-37](figure/unnamed-chunk-37.png) \r\n\r\n\r\nVolume chart   \r\n\r\n```r\r\napple <- get.ohlc.google(\"AAPL\")\r\nvolumeChart(apple)\r\n```\r\n\r\n![plot of chunk unnamed-chunk-38](figure/unnamed-chunk-38.png) \r\n\r\n\r\nMultiple line chart   \r\n\r\n```r\r\ngoogapple <- get.ohlcs.yahoo(c(\"GOOG\", \"AAPL\", \"SPY\"), start = \"2013-01-01\", \r\n    end = \"2013-06-30\")\r\nlineChartMult(googapple)\r\n```\r\n\r\n![plot of chunk unnamed-chunk-39](figure/unnamed-chunk-39.png) \r\n\r\n\r\nExamples 27 Inventory Expense Recognition -- cost of goods sold\r\n------------------------------------------------\r\nThree methods: first-in, first-out (FIFO) method; last-in, first-out (LIFO) method; weighted average cost method.\r\n\r\ne.g. during one month   \r\nbeginning inventory: 20 units @ $2/unit   \r\nbuy                : 30 units @ $3/unit    \r\nbuy                : 50 units @ $5/unit    \r\nsold               : 70 units    \r\nwhat is the cost of goods sold using three menthod?   \r\n\r\n```r\r\n# first-in, first-out (FIFO) method\r\ncogs(uinv = 20, pinv = 2, units = c(30, 50), price = c(3, 5), sinv = 70, method = \"FIFO\")\r\n```\r\n\r\n```\r\n$costOfGoods\r\n[1] 230\r\n\r\n$endingInventory\r\n[1] 150\r\n```\r\n\r\n```r\r\n# last-in, first-out (LIFO) method\r\ncogs(uinv = 20, pinv = 2, units = c(30, 50), price = c(3, 5), sinv = 70, method = \"LIFO\")\r\n```\r\n\r\n```\r\n$costOfGoods\r\n[1] 310\r\n\r\n$endingInventory\r\n[1] 70\r\n```\r\n\r\n```r\r\n# weighted average cost method\r\ncogs(uinv = 20, pinv = 2, units = c(30, 50), price = c(3, 5), sinv = 70, method = \"WAC\")\r\n```\r\n\r\n```\r\n$costOfGoods\r\n[1] 266\r\n\r\n$endingInventory\r\n[1] 114\r\n```\r\n\r\n\r\nExample 28 Depreciation Expense Recognition\r\n----------------------------------------------\r\nMethods: straight line depreciation method, double-declining balance (DDB)   \r\ne.g.,   \r\nOne Company recently purchased a machine at a cost of $9,800. The machine is expected to have a residual value of $2,000 at the end of its useful life in five years. What is the depreciation expense for all five years using two different menthods?  \r\n\r\n\r\n```r\r\n# straight line depreciation method\r\nslde(cost = 9800, rv = 2000, t = 5)\r\n```\r\n\r\n```\r\n[1] 1560\r\n```\r\n\r\n```r\r\n# double-declining balance (DDB)\r\nddb(cost = 9800, rv = 2000, t = 5)\r\n```\r\n\r\n```\r\n     t    ddb\r\n[1,] 1 3920.0\r\n[2,] 2 2352.0\r\n[3,] 3 1411.2\r\n[4,] 4  116.8\r\n[5,] 5    0.0\r\n```\r\n\r\n\r\nExample 29 Weighted average shares and EPS\r\n---------------------------------------------\r\nOne company has net income of $100,000 and paid $10,000 cash dividends to its preferred shareholders and $10,750 cash dividends to its common shareholders. At the beginning of the year, there were 20,000 shares of common stock outstanding. 20,000 new shares were issued on July 1 . what is the weighted average shares and basic EPS?   \r\n\r\n```r\r\n# weighted average shares\r\nwas = was(ns = c(20000, 20000), nm = c(12, 6))\r\nwas\r\n```\r\n\r\n```\r\n[1] 30000\r\n```\r\n\r\n```r\r\n# basic EPS\r\nEPS(ni = 1e+05, pd = 10000, w = was)\r\n```\r\n\r\n```\r\n[1] 3\r\n```\r\n\r\n\r\nOne company has 15,000 shares outstanding all year. It had 2,000 outstanding warrants all year, convertible into one share each at $20 per share. The year-end price of stock was $40, and the average stock price was $30. What effect will these warrants have on the weighted average number of shares?\r\n\r\n```r\r\niss(amp = 30, ep = 20, n = 2000)\r\n```\r\n\r\n```\r\n[1] 666.7\r\n```\r\n\r\n\r\nDuring 2013, X reported net income of $231,200 and had 400,000 shares of\r\ncommon stock outstanding for the entire year. X had 2,000 shares of 10%, $100\r\npar convertible preferred stock, convertible into 40 shares each, outstanding for the\r\nentire year. X also had 1200, 7%, $1,000 par value convertible bonds, convertible\r\ninto 100 shares each, outstanding for the entire year. Finally, X had 20,000 stock\r\noptions outstanding during the year. Each option is convertible into one share of\r\nstock at $15 per share. The average market price of the stock for the year was $20. The tax rate is 40%. What are X's basic and diluted EPS?\r\n\r\n```r\r\nEPS(ni = 231200, pd = 2000 * 0.1 * 100, w = 4e+05)\r\n```\r\n\r\n```\r\n[1] 0.528\r\n```\r\n\r\n```r\r\niss = iss(amp = 20, ep = 15, n = 20000)\r\ndiluted.EPS(ni = 231200, pd = 2000 * 0.1 * 100, cpd = 2000 * 0.1 * 100, cdi = 1200 * \r\n    0.07 * 1000, tax = 0.4, w = 4e+05, cps = 2000 * 40, cds = 1200 * 100, iss = iss)\r\n```\r\n\r\n```\r\n[1] 0.4655\r\n```\r\n\r\n","google":"UA-44240871-1","note":"Don't delete this file! It's used internally to help with page regeneration."}